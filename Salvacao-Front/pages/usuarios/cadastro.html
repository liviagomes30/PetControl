<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuário - PetControl</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="../../assets/css/login.css">
    
    <link rel="icon" type="image/x-icon" href="../../assets/img/favicon.ico">
</head>
<body class="login-page">
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="login-container cadastro-container">
        <div class="login-header">
            <div class="login-logo">
                <i class="bi bi-person-plus"></i>
            </div>
            <h1 class="login-title">Cadastro de Usuário</h1>
            <p class="login-subtitle">Preencha os dados para solicitar acesso</p>
        </div>

        <div id="alertContainer"></div>

        <form id="cadastroForm" class="login-form" novalidate>
            <!-- Dados Pessoais -->
            <h5 class="mb-3" style="color: #333; border-bottom: 2px solid #dfa231; padding-bottom: 10px;">
                <i class="bi bi-person me-2"></i>Dados Pessoais
            </h5>
            
            <div class="form-group">
                <label for="nome">Nome Completo</label>
                <input 
                    type="text" 
                    class="form-control" 
                    id="nome" 
                    name="nome"
                    placeholder="Digite seu nome completo"
                    required
                    minlength="3"
                >
                <div class="invalid-feedback">
                    Nome completo é obrigatório (mínimo 3 caracteres).
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="cpf" 
                        name="cpf"
                        placeholder="000.000.000-00"
                        required
                        maxlength="14"
                    >
                    <div class="invalid-feedback">
                        CPF é obrigatório e deve ser válido.
                    </div>
                </div>

                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input 
                        type="tel" 
                        class="form-control" 
                        id="telefone" 
                        name="telefone"
                        placeholder="(00) 00000-0000"
                        required
                        maxlength="15"
                    >
                    <div class="invalid-feedback">
                        Telefone é obrigatório.
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="email">E-mail</label>
                <input 
                    type="email" 
                    class="form-control" 
                    id="email" 
                    name="email"
                    placeholder="seuemail@exemplo.com"
                    required
                >
                <div class="invalid-feedback">
                    E-mail válido é obrigatório.
                </div>
            </div>

            <div class="form-group">
                <label for="endereco">Endereço</label>
                <input 
                    type="text" 
                    class="form-control" 
                    id="endereco" 
                    name="endereco"
                    placeholder="Rua, número, bairro, cidade - Estado"
                    required
                >
                <div class="invalid-feedback">
                    Endereço é obrigatório.
                </div>
            </div>

            <!-- Dados de Acesso -->
            <h5 class="mb-3 mt-4" style="color: #333; border-bottom: 2px solid #dfa231; padding-bottom: 10px;">
                <i class="bi bi-key me-2"></i>Dados de Acesso
            </h5>

            <div class="form-group has-icon">
                <label for="login">Login</label>
                <input 
                    type="text" 
                    class="form-control" 
                    id="login" 
                    name="login"
                    placeholder="Digite seu login"
                    required
                    minlength="3"
                    autocomplete="username"
                >
                <span class="input-icon">
                    <i class="bi bi-person-check" id="loginIcon"></i>
                </span>
                <div class="invalid-feedback">
                    Login é obrigatório (mínimo 3 caracteres).
                </div>
                <div id="loginFeedback" class="mt-1"></div>
            </div>

            <div class="form-group has-icon">
                <label for="senha">Senha</label>
                <input 
                    type="password" 
                    class="form-control" 
                    id="senha" 
                    name="senha"
                    placeholder="Digite sua senha"
                    required
                    minlength="6"
                    autocomplete="new-password"
                >
                <span class="input-icon" id="toggleSenha" style="cursor: pointer;">
                    <i class="bi bi-eye"></i>
                </span>
                <div class="invalid-feedback">
                    Senha é obrigatória (mínimo 6 caracteres).
                </div>
                <div class="password-requirements">
                    <p><strong>Requisitos da senha:</strong></p>
                    <ul id="passwordRequirements">
                        <li id="req-length" class="requirement-unmet">Mínimo 6 caracteres</li>
                        <li id="req-letter" class="requirement-unmet">Pelo menos uma letra</li>
                        <li id="req-number" class="requirement-unmet">Pelo menos um número</li>
                    </ul>
                </div>
            </div>

            <div class="form-group has-icon">
                <label for="confirmarSenha">Confirmar Senha</label>
                <input 
                    type="password" 
                    class="form-control" 
                    id="confirmarSenha" 
                    name="confirmarSenha"
                    placeholder="Confirme sua senha"
                    required
                    autocomplete="new-password"
                >
                <span class="input-icon" id="toggleConfirmarSenha" style="cursor: pointer;">
                    <i class="bi bi-eye"></i>
                </span>
                <div class="invalid-feedback">
                    Confirmação de senha é obrigatória e deve ser igual à senha.
                </div>
            </div>

            <div class="form-check mb-3">
                <input 
                    class="form-check-input" 
                    type="checkbox" 
                    id="aceitarTermos"
                    name="aceitarTermos"
                    required
                >
                <label class="form-check-label" for="aceitarTermos">
                    Declaro que li e aceito os <a href="#" class="forgot-password">termos de uso</a> e 
                    <a href="#" class="forgot-password">política de privacidade</a>
                </label>
                <div class="invalid-feedback">
                    É necessário aceitar os termos de uso.
                </div>
            </div>

            <div class="form-buttons">
                <a href="../../login.html" class="btn-back">
                    <i class="bi bi-arrow-left me-2"></i>Voltar
                </a>
                <button type="submit" class="btn btn-login btn-cadastro" id="submitButton">
                    <i class="bi bi-person-plus me-2"></i>Cadastrar
                </button>
            </div>
        </form>

        <div class="login-footer mt-4">
            <p>© 2024 PetControl. Todos os direitos reservados.</p>
        </div>
    </div>

    <script>
        window.API_BASE_URL = "http://localhost:8080";
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script src="../../assets/js/services/usuarioService.js"></script>
    
    <script src="../../assets/js/pages/cadastro.js"></script>
</body>
</html> 